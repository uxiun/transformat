(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[967],{6323:function(e,t,r){"use strict";var o=r(4652);t.Z=void 0;var n=o(r(2922)),l=r(1527),a=(0,n.default)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=a},2922:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=r(3487)},3487:function(e,t,r){"use strict";r.r(t),r.d(t,{capitalize:function(){return n.Z},createChainedFunction:function(){return l},createSvgIcon:function(){return a.Z},debounce:function(){return i.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return u.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return p},unstable_ClassNameGenerator:function(){return y},unstable_useEnhancedEffect:function(){return m.Z},unstable_useId:function(){return h.Z},unsupportedProp:function(){return x},useControlled:function(){return v.Z},useEventCallback:function(){return g.Z},useForkRef:function(){return Z.Z},useIsFocusVisible:function(){return j.Z}});var o=r(8007),n=r(1415),l=r(7283).Z,a=r(8785),i=r(5291),s=function(e,t){return()=>null},u=r(8359),c=r(9851),d=r(9961);r(8957);var f=function(e,t){return()=>null},p=r(7570).Z,m=r(4955),h=r(6455),x=function(e,t,r,o,n){return null},v=r(4581),g=r(1),Z=r(8264),j=r(7025);let y={configure:e=>{o.Z.configure(e)}}},6967:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var o=r(1527),n=r(1155),l=r(6499),a=r(9928),i=r(1479),s=r(3426),u=r(45),c=r(8957),d=r(959),f=r(5341),p=r(9971),m=r(9148),h=r(3387),x=r(5885),v=r(2330),g=r(1415),Z=r(8752),j=r(6448);function y(e){return(0,j.Z)("MuiIconButton",e)}let b=(0,Z.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),R=["edge","children","className","color","disabled","disableFocusRipple","size"],O=e=>{let{classes:t,disabled:r,color:o,edge:n,size:l}=e,a={root:["root",r&&"disabled","default"!==o&&`color${(0,g.Z)(o)}`,n&&`edge${(0,g.Z)(n)}`,`size${(0,g.Z)(l)}`]};return(0,p.Z)(a,y,t)},S=(0,h.ZP)(v.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"default"!==r.color&&t[`color${(0,g.Z)(r.color)}`],r.edge&&t[`edge${(0,g.Z)(r.edge)}`],t[`size${(0,g.Z)(r.size)}`]]}})(({theme:e,ownerState:t})=>(0,c.Z)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,m.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12}),({theme:e,ownerState:t})=>{var r;let o=null==(r=(e.vars||e).palette)?void 0:r[t.color];return(0,c.Z)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,c.Z)({color:null==o?void 0:o.main},!t.disableRipple&&{"&:hover":(0,c.Z)({},o&&{backgroundColor:e.vars?`rgba(${o.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,m.Fq)(o.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${b.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),z=d.forwardRef(function(e,t){let r=(0,x.Z)({props:e,name:"MuiIconButton"}),{edge:n=!1,children:l,className:a,color:i="default",disabled:s=!1,disableFocusRipple:d=!1,size:p="medium"}=r,m=(0,u.Z)(r,R),h=(0,c.Z)({},r,{edge:n,color:i,disabled:s,disableFocusRipple:d,size:p}),v=O(h);return(0,o.jsx)(S,(0,c.Z)({className:(0,f.Z)(v.root,a),centerRipple:!0,focusRipple:!d,disabled:s,ref:t,ownerState:h},m,{children:l}))});var w=r(6323),M=r(6063),K=r(7635),C=r(2202),N=r(469),k=r(4752);let E=(e,t)=>r=>{let o=Math.abs(r).toString().split(".");o.length<2&&o.push("");let n=t+1,l=o.map(e=>{let t=e.slice(0,n);return n-=t.length,t});if(n>0)return r;{let t=(0,N.y2)(e=>0==e,o[0].length-l[0].length)(-l[1].length)+1,n=parseInt("".concat(l[0]).concat(l[1]))/10,a=Math[e](r<0?-n:n);return Math.pow(10,t)*a}},I=(e,t)=>r=>{let o=E(e,t)(r),n=Math.abs(o).toString().split("").reduce((e,r)=>{let{seisu:o,shosu:n,atshosu:l}=e;return l?{seisu:o,shosu:o.length+n.length<t?n+r:n,atshosu:l}:"."==r?{seisu:o,shosu:n,atshosu:!0}:{seisu:o+r,shosu:n,atshosu:l}},{seisu:"",shosu:"",atshosu:!1});return(o<0?"-":"")+n.seisu+(0,N.op)(n.shosu)(e=>e.length>0,e=>".".concat(e))};var F=r(2413);let _={similarForm:{padding:[1,2]}},P=()=>(0,o.jsxs)("div",{className:"lists",children:[(0,o.jsx)(T,{limit:2}),(0,o.jsx)($,{maxShowNumber:10})]}),T=e=>{let{limit:t}=e,[r]=(0,M.KO)(n.kG),[l,a]=(0,M.KO)(n.J5);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"entries",children:l.slice(-t).reverse().map(e=>(0,o.jsx)("div",{children:JSON.stringify(e)},JSON.stringify(e)))})})},$=e=>{let[t,r]=(0,M.KO)(n.J5),[u]=(0,M.KO)(n.jl),[c]=(0,M.KO)(n.Cf),[f]=(0,M.KO)(n.ag),[p]=(0,M.KO)(n.R4),[m]=(0,M.KO)(n.rz),[h,x]=(0,d.useState)(!1),v=(0,n.o4)(f,p),g=e=>(0,C.cV)((0,N.ZZ)(c[e].map(t=>{let r=(0,C.xJ)(t)(u[e]);return r})))(u[e].length,v[e]),Z=(0,d.useMemo)(()=>{let t=g("from");return[...t.entries()].sort((e,t)=>t[1]-e[1]).slice(0,e.maxShowNumber)},[t,u.from]),j=(0,d.useMemo)(()=>{let t=g("to");return[...t.entries()].sort((e,t)=>t[1]-e[1]).slice(0,e.maxShowNumber)},[t,u.to,u.from]),y={from:Z,to:j},b={display:"flex",alignItems:"center"},R=e=>function(){return(0,o.jsxs)(l.Z,{children:[(0,o.jsxs)(a.Z,{variant:"h5",children:[e," "]}),(0,o.jsx)(l.Z,{children:y[e].map(e=>{let[t,r]=e,a=(0,n.zN)(t,f);return void 0===a?(0,o.jsx)(l.Z,{children:"cannot get id"}):(0,o.jsxs)(l.Z,{...b,children:[h?"".concat(I("round",5)(r)):"",(0,N.L2)(p.get(null!=a?a:""))(e=>{let t={...JSON.parse(a),to:e};return(0,o.jsx)(J,{entry:t})},(0,o.jsx)(l.Z,{children:"stringified key not found"}))]})})})]})};return(0,o.jsxs)(l.Z,{children:[(0,o.jsxs)(l.Z,{sx:{display:"flex",..._.similarForm},children:[(0,o.jsx)(l.Z,{fontSize:"2em",children:k.R.headerTitle.list.similar[m]}),(0,o.jsxs)(l.Z,{sx:{display:"flex",paddingX:2},children:[(0,o.jsx)(i.Z,{control:(0,o.jsx)(s.Z,{checked:!!h,onChange:()=>x(e=>!e),value:"showPoint"}),label:k.R.showPoint[m]}),(0,o.jsx)(F.default,{})]})]}),(0,o.jsx)(l.Z,{children:[R("from")(),R("to")()]})]})},V=e=>{let{entry:t}=e;return(0,o.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,o.jsx)(l.Z,{children:t.from}),(0,o.jsx)(a.Z,{sx:{opacity:.5},children:"â†’"}),(0,o.jsx)(l.Z,{children:t.to}),(0,o.jsx)(l.Z,{display:"flex",children:["ic","sc","mw"].map(e=>(0,o.jsx)(l.Z,{sx:{marginLeft:1,opacity:t[e]?1:.5},children:e},e))})]})},J=e=>{let{entry:t}=e,[r,n]=(0,d.useState)(!1);return(0,o.jsxs)(l.Z,{display:"flex",alignItems:"center",children:[(0,o.jsx)(z,{size:"small",onClick:()=>{n(e=>!e)},children:(0,o.jsx)(w.Z,{fontSize:"small"})}),r?(0,o.jsx)(K.default,{hideMe:()=>n(!1),defaultValues:t}):(0,o.jsx)(V,{entry:t})]})};var L=P},7635:function(e,t,r){"use strict";r.r(t);var o=r(1527),n=r(1155),l=r(8138),a=r(4752),i=r(4691),s=r(469),u=r(2202),c=r(1479),d=r(3426),f=r(9530),p=r(6726),m=r(6499),h=r(3964),x=r(6063),v=r(959),g=r(4091);let Z=e=>{let[t,r]=(0,v.useState)({alreadyExist:"",operation:""}),[Z]=(0,x.KO)(n.rz),[y,b]=(0,x.KO)(n.kG),R=e=>(0,n.QF)(Z)(e),[O,S]=(0,x.KO)(n.J5),[z,w]=(0,x.KO)(n.e2),[M,K]=(0,x.KO)(n.jl),[C,N]=(0,x.KO)(n.Cf),[k,E]=(0,x.KO)(n.D6),[I,F]=(0,x.KO)(n.ag),[_]=(0,x.KO)(n.pM),[P,T]=(0,v.useState)(O),{control:$,handleSubmit:V,formState:J}=(0,g.cI)({defaultValues:e.defaultValues}),L=(0,g.qo)({control:$}),[q,A]=(0,x.KO)(n.R4),[D,Q]=(0,v.useState)(!1),[B,G]=(0,v.useState)("add"),[H,W]=(0,v.useState)(n.P1),X=(0,l.N)(_,L);(0,v.useEffect)(()=>{var e,t,o,l,i;let s={from:null!==(e=X.from)&&void 0!==e?e:y.from,to:null!==(t=X.to)&&void 0!==t?t:y.to,ic:null!==(o=X.ic)&&void 0!==o?o:y.ic,mw:null!==(l=X.mw)&&void 0!==l?l:y.mw,sc:null!==(i=X.sc)&&void 0!==i?i:y.sc};K(s),Q(!!s.from.match(/.*[a-zA-Z].*/));let u=(0,n.z3)(q)(s);"string"==typeof u?(r(e=>({...e,alreadyExist:a.R.confirm.alreadyExist[Z]})),G("update"),w({...s,to:u})):(r(e=>({...e,alreadyExist:""})),G("add"),w(s))},[X,O]);let U=e=>{let{to:t,...o}=e,l=JSON.stringify(o),c=q.delete(l);q.set(l,t),c?(console.log("updated ",z),console.log("to",'"'.concat(t,'"')),r(t=>({...t,operation:a.R.tooltip.operation.update(e.from,z.to)(e.to)[Z]})),console.log("atomEntryIdDedupedMap:",I),N(e=>(0,s.L2)(I.get(l))(r=>({from:e.from.map(e=>(0,n.DH)(e=>new Map((0,i.Cc)([...e.entries()])(e=>{let[t,o]=e;return t==r},e=>{let[t,o]=e;return[r,o]})))(e)),to:e.to.map(e=>(0,u.P)((0,n.Ko)([r])(e))(k,t))}),e))):(console.log("added:",e),r(t=>({...t,operation:a.R.tooltip.operation.add(e.from,e.to)[Z]})),N(t=>(0,n.VU)(k,t)(e))),F(e=>(e.set(l,k),new Map([...e.entries()]))),E(e=>e+1);let d=Array.from(q),f=new Map(d);A(f);let p=d.map(e=>(0,n.bA)(e));S(p),T(p)},Y=e=>{let{to:t,...o}=e,l=JSON.stringify(o),i=q.delete(l);i?(console.log("deleted:",n.e2),r(t=>({...t,operation:a.R.tooltip.operation.delete(e.from,e.to)[Z]})),F(e=>(e.delete(l),new Map([...e.entries()]))),N(e=>{let t=(0,n.XZ)(l)(e,z,I);return{from:t("from"),to:t("to")}})):(console.log("failed to delete"),r(e=>({...e,operation:a.R.tooltip.fail("delete")[Z]})));let s=Array.from(q),u=new Map(s);A(u);let c=s.map(e=>(0,n.bA)(e));S(c),T(c)},ee=function(e){return(0,o.jsx)(c.Z,{control:(0,o.jsx)(g.Qr,{name:e,control:$,render:t=>{let{field:r}=t;return(0,o.jsx)(d.Z,{...r,size:"small",checked:!!r.value,disabled:"mw"==e?void 0:!D})}}),label:(0,n.QF)("en")(e)})},et=e=>{var t,r,o,l,a;let i={from:null!==(t=X.from)&&void 0!==t?t:y.from,to:null!==(r=X.to)&&void 0!==r?r:y.to,ic:null!==(o=X.ic)&&void 0!==o?o:y.ic,mw:null!==(l=X.mw)&&void 0!==l?l:y.mw,sc:null!==(a=X.sc)&&void 0!==a?a:y.sc};W(t=>({...n.P1,[e]:!0})),"add"==e?U(i):"delete"==e&&Y(i)},er=function(e){return(0,o.jsx)(f.Z,{arrow:!0,open:!!H[e],onClose:()=>W(t=>({...t,[e]:!1})),disableHoverListener:!0,placement:"top",title:"add"==e?"update"==B?a.R.tooltip.operation.update(z.from,z.to)(M.to)[Z]:a.R.tooltip.operation.add(z.from,z.to)[Z]:a.R.tooltip.operation.delete(z.from,z.to)[Z],children:(0,o.jsx)(p.Z,{variant:"contained",onClick:t=>et(e),children:"add"==e?a.R[B][Z]:a.R.delete[Z]})})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(m.Z,{component:"form",onSubmit:V(U),children:[(0,o.jsx)(m.Z,{component:"div",children:[ee("ic"),ee("sc"),ee("mw")]}),(0,o.jsx)(g.Qr,{control:$,name:"from",rules:{required:a.R.form.rules.required[Z]},render:e=>{let{field:t}=e;return(0,o.jsx)(h.Z,{...t,variant:"standard",size:"small",label:R("from"),error:!!J.errors.from,helperText:J.errors.from&&J.errors.from.message||!J.isValid&&a.R.form.helperText.invalid[Z]})}}),(0,o.jsx)(g.Qr,{control:$,name:"to",render:e=>{let{field:t}=e;return(0,o.jsx)(h.Z,{...t,variant:"standard",size:"small",label:R("to"),error:!!J.errors.to,helperText:J.errors.to&&J.errors.to.message||!J.isValid&&"invalid"})}}),(0,o.jsx)(p.Z,{type:"submit",sx:{display:"none"},children:a.R.add[Z]}),[er("add"),er("delete")]]}),(0,o.jsx)(j,{...t})]})},j=e=>(0,o.jsx)(m.Z,{className:"messages",children:Object.entries(e).map(e=>{let[t,r]=e;return(0,o.jsx)("div",{children:r},t)})});t.default=Z},2413:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var o=r(1527),n=r(1155),l=r(8138),a=r(4752);let i={delay:300};var s=r(6499),u=r(3964),c=r(6063),d=r(959),f=r(4091);let p=()=>{let[e,t]=(0,c.KO)(n.pM),[r]=(0,c.KO)(n.rz),{control:p,register:m}=(0,f.cI)({defaultValues:i}),h=(0,f.qo)({control:p}),x=(0,l.N)(300,h),[v,g]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{var e;t(null!==(e=h.delay)&&void 0!==e?e:i.delay)},[x]),(0,o.jsx)(s.Z,{children:(0,o.jsx)(f.Qr,{control:p,name:"delay",render:e=>{let{field:t,fieldState:n}=e;return(0,o.jsx)(u.Z,{...t,type:"number",size:"small",label:a.R.searchDelay.label[r],ref:m("delay").ref,onFocus:()=>g(e=>!e),onBlur:()=>g(e=>!e),helperText:v&&a.R.searchDelay.help[r]})}})})};var m=p},8138:function(e,t,r){"use strict";r.d(t,{N:function(){return n}});var o=r(959);let n=(e,t)=>{let[r,n]=(0,o.useState)(t);return(0,o.useEffect)(()=>{let r=setTimeout(()=>n(t),e);return()=>clearTimeout(r)},[t,e]),r}},4652:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);