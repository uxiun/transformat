(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[632],{5805:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/TextRewriter/entryForm",function(){return o(6155)}])},6155:function(e,t,o){"use strict";o.r(t);var r=o(1527),l=o(1155),n=o(4752),i=o(5009),a=o(9569),d=o(3922),s=o(3009),u=o(5497),c=o(6069),m=o(257),f=o(959),p=o(4578),x=o(2302),v=o(8138);let w=()=>{let[e,t]=(0,f.useState)({alreadyExist:"",operation:""}),[o]=(0,m.KO)(l.rz),[w,j]=(0,m.KO)(l.kG),O=e=>(0,l.QF)(o)(e),[R,g]=(0,m.KO)(l.J5),[y,E]=(0,m.KO)(l.e2),[_,b]=(0,m.KO)(l.jl),[K,S]=(0,m.KO)(l.G_),[Z,N]=(0,m.KO)(l.Cf),[T,k]=(0,m.KO)(l.D6),[A,C]=(0,m.KO)(l.ag),[F]=(0,m.KO)(l.Se),[P,Q]=(0,f.useState)(R),{control:M,handleSubmit:V,formState:q}=(0,p.cI)({defaultValues:l.EF}),z=(0,p.qo)({control:M}),J=(0,v.N)(F.delay,z),[G,X]=(0,m.KO)(l.R4),[D,H]=(0,f.useState)(!1),[I,L]=(0,f.useState)("add"),[U,B]=(0,f.useState)(l.P1);(0,f.useEffect)(()=>{var e,r,i,a,d;let s={from:null!==(e=J.from)&&void 0!==e?e:w.from,to:null!==(r=J.to)&&void 0!==r?r:w.to,ic:null!==(i=J.ic)&&void 0!==i?i:w.ic,mw:null!==(a=J.mw)&&void 0!==a?a:w.mw,sc:null!==(d=J.sc)&&void 0!==d?d:w.sc};b(s),S(s),H(!!s.from.match(/.*[a-zA-Z].*/));let u=(0,l.z3)(G)(s);"string"==typeof u?(t(e=>({...e,alreadyExist:n.R.confirm.alreadyExist[o]})),L("update"),E({...s,to:u})):(t(e=>({...e,alreadyExist:""})),L("add"),E(s))},[J,R,G,o,w,b,E,S]);let W=e=>{let{to:r,...i}=e,a=JSON.stringify(i),d=G.delete(a);G.set(a,r),d?(console.log("updated ",y),console.log("to",'"'.concat(r,'"')),t(t=>({...t,operation:n.R.tooltip.operation.update(e.from,y.to)(e.to)[o]})),N(e=>({from:e.from,to:e.to.map(e=>((0,x.SK)(e.n,y.to).forEach(t=>e.index.delete(t)),(0,x.P)(e)(T,r)))}))):(console.log("added:",e),t(t=>({...t,operation:n.R.tooltip.operation.add(e.from,e.to)[o]})),N(t=>(0,l.VU)(T,t)(e))),C(e=>(e.set(a,T),new Map([...e.entries()]))),k(e=>e+1);let s=Array.from(G),u=new Map(s);X(u);let c=s.map(e=>(0,l.bA)(e));g(c),Q(c)},Y=e=>{let{to:r,...i}=e,a=JSON.stringify(i),d=G.delete(a);d?(console.log("deleted:",l.e2),t(t=>({...t,operation:n.R.tooltip.operation.delete(e.from,e.to)[o]})),C(e=>(e.delete(a),new Map([...e.entries()])))):(console.log("failed to delete"),t(e=>({...e,operation:n.R.tooltip.fail("delete")[o]})));let s=Array.from(G),u=new Map(s);X(u);let c=s.map(e=>(0,l.bA)(e));g(c),Q(c)},$=function(e){return(0,r.jsx)(i.Z,{control:(0,r.jsx)(p.Qr,{name:e,control:M,render:t=>{let{field:o}=t;return(0,r.jsx)(a.Z,{...o,checked:!!o.value,disabled:"mw"==e?void 0:!D})}}),label:(0,l.QF)(o)(e)})},ee=e=>{var t,o,r,n,i;let a={from:null!==(t=J.from)&&void 0!==t?t:w.from,to:null!==(o=J.to)&&void 0!==o?o:w.to,ic:null!==(r=J.ic)&&void 0!==r?r:w.ic,mw:null!==(n=J.mw)&&void 0!==n?n:w.mw,sc:null!==(i=J.sc)&&void 0!==i?i:w.sc};B(t=>({...l.P1,[e]:!0})),"add"==e?W(a):"delete"==e&&Y(a)},et=function(e){return(0,r.jsx)(d.Z,{arrow:!0,open:!!U[e],onClose:()=>B(t=>({...t,[e]:!1})),disableHoverListener:!0,placement:"top",title:"add"==e?"update"==I?n.R.tooltip.operation.update(y.from,y.to)(_.to)[o]:n.R.tooltip.operation.add(y.from,y.to)[o]:n.R.tooltip.operation.delete(y.from,y.to)[o],children:(0,r.jsx)(s.Z,{onClick:t=>ee(e),children:"add"==e?n.R[I][o]:n.R.delete[o]})})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.Z,{component:"form",onSubmit:V(W),children:[(0,r.jsx)(u.Z,{component:"div",children:[$("ic"),$("sc"),$("mw")]}),(0,r.jsx)(p.Qr,{control:M,name:"from",rules:{required:n.R.form.rules.required[o]},render:e=>{let{field:t}=e;return(0,r.jsx)(c.Z,{...t,label:O("from"),error:!!q.errors.from,helperText:q.errors.from&&q.errors.from.message||!q.isValid&&n.R.form.helperText.invalid[o]})}}),(0,r.jsx)(p.Qr,{control:M,name:"to",render:e=>{let{field:t}=e;return(0,r.jsx)(c.Z,{...t,label:O("to"),error:!!q.errors.to,helperText:q.errors.to&&q.errors.to.message||!q.isValid&&"invalid"})}}),(0,r.jsx)(s.Z,{type:"submit",sx:{display:"none"},children:n.R.add[o]}),[et("add"),et("delete")]]}),(0,r.jsx)(h,{...e})]})},h=e=>(0,r.jsx)(u.Z,{className:"messages",children:Object.entries(e).map(e=>{let[t,o]=e;return(0,r.jsx)("div",{children:o},t)})});t.default=w},8138:function(e,t,o){"use strict";o.d(t,{N:function(){return l}});var r=o(959);let l=(e,t)=>{let[o,l]=(0,r.useState)(t);return(0,r.useEffect)(()=>{let o=setTimeout(()=>l(t),e);return()=>clearTimeout(o)},[t,e]),o}}},function(e){e.O(0,[422,578,257,776,694,616,628,774,888,179],function(){return e(e.s=5805)}),_N_E=e.O()}]);