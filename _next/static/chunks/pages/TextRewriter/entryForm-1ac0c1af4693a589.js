(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[632],{5805:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/TextRewriter/entryForm",function(){return t(6155)}])},6155:function(e,o,t){"use strict";t.r(o);var r=t(1527),l=t(1155),n=t(4752),i=t(1479),a=t(3426),d=t(9530),s=t(6726),c=t(6499),m=t(3964),u=t(6063),f=t(959),p=t(4091),x=t(2202);let v=()=>{let[e,o]=(0,f.useState)({alreadyExist:"",operation:""}),[t]=(0,u.KO)(l.rz),[v,h]=(0,u.KO)(l.kG),j=e=>(0,l.QF)(t)(e),[R,O]=(0,u.KO)(l.J5),[g,b]=(0,u.KO)(l.e2),[y,E]=(0,u.KO)(l.jl),[_,Z]=(0,u.KO)(l.Cf),[K,S]=(0,u.KO)(l.D6),[N,k]=(0,u.KO)(l.ag),[T,A]=(0,f.useState)(R),{control:C,handleSubmit:F,formState:P}=(0,p.cI)({defaultValues:l.EF}),Q=(0,p.qo)({control:C}),[M,V]=(0,u.KO)(l.R4),[q,z]=(0,f.useState)(!1),[J,X]=(0,f.useState)("add"),[D,G]=(0,f.useState)(l.P1);(0,f.useEffect)(()=>{var e,r,i,a,d;let s={from:null!==(e=Q.from)&&void 0!==e?e:v.from,to:null!==(r=Q.to)&&void 0!==r?r:v.to,ic:null!==(i=Q.ic)&&void 0!==i?i:v.ic,mw:null!==(a=Q.mw)&&void 0!==a?a:v.mw,sc:null!==(d=Q.sc)&&void 0!==d?d:v.sc};E(s),z(!!s.from.match(/.*[a-zA-Z].*/));let c=(0,l.z3)(M)(s);"string"==typeof c?(o(e=>({...e,alreadyExist:n.R.confirm.alreadyExist[t]})),X("update"),b({...s,to:c})):(o(e=>({...e,alreadyExist:""})),X("add"),b(s))},[Q,R]);let H=e=>{let{to:r,...i}=e,a=JSON.stringify(i),d=M.delete(a);M.set(a,r),d?(console.log("updated ",g),console.log("to",'"'.concat(r,'"')),o(o=>({...o,operation:n.R.tooltip.operation.update(e.from,g.to)(e.to)[t]})),Z(e=>({from:e.from,to:e.to.map(e=>((0,x.SK)(e.n,g.to).forEach(o=>e.index.delete(o)),(0,x.P)(e)(K,r)))}))):(console.log("added:",e),o(o=>({...o,operation:n.R.tooltip.operation.add(e.from,e.to)[t]})),Z(o=>(0,l.VU)(K,o)(e))),k(e=>(e.set(a,K),new Map([...e.entries()]))),S(e=>e+1);let s=Array.from(M),c=new Map(s);V(c);let m=s.map(e=>(0,l.bA)(e));O(m),A(m)},I=e=>{let{to:r,...i}=e,a=JSON.stringify(i),d=M.delete(a);d?(console.log("deleted:",l.e2),o(o=>({...o,operation:n.R.tooltip.operation.delete(e.from,e.to)[t]})),k(e=>(e.delete(a),new Map([...e.entries()])))):(console.log("failed to delete"),o(e=>({...e,operation:n.R.tooltip.fail("delete")[t]})));let s=Array.from(M),c=new Map(s);V(c);let m=s.map(e=>(0,l.bA)(e));O(m),A(m)},L=function(e){return(0,r.jsx)(i.Z,{control:(0,r.jsx)(p.Qr,{name:e,control:C,render:o=>{let{field:t}=o;return(0,r.jsx)(a.Z,{...t,checked:!!t.value,disabled:"mw"==e?void 0:!q})}}),label:(0,l.QF)("en")(e)})},U=e=>{var o,t,r,n,i;let a={from:null!==(o=Q.from)&&void 0!==o?o:v.from,to:null!==(t=Q.to)&&void 0!==t?t:v.to,ic:null!==(r=Q.ic)&&void 0!==r?r:v.ic,mw:null!==(n=Q.mw)&&void 0!==n?n:v.mw,sc:null!==(i=Q.sc)&&void 0!==i?i:v.sc};G(o=>({...l.P1,[e]:!0})),"add"==e?H(a):"delete"==e&&I(a)},B=function(e){return(0,r.jsx)(d.Z,{arrow:!0,open:!!D[e],onClose:()=>G(o=>({...o,[e]:!1})),disableHoverListener:!0,placement:"top",title:"add"==e?"update"==J?n.R.tooltip.operation.update(g.from,g.to)(y.to)[t]:n.R.tooltip.operation.add(g.from,g.to)[t]:n.R.tooltip.operation.delete(g.from,g.to)[t],children:(0,r.jsx)(s.Z,{onClick:o=>U(e),children:"add"==e?n.R[J][t]:n.R.delete[t]})})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.Z,{component:"form",onSubmit:F(H),children:[(0,r.jsx)(c.Z,{component:"div",children:[L("ic"),L("sc"),L("mw")]}),(0,r.jsx)(p.Qr,{control:C,name:"from",rules:{required:n.R.form.rules.required[t]},render:e=>{let{field:o}=e;return(0,r.jsx)(m.Z,{...o,label:j("from"),error:!!P.errors.from,helperText:P.errors.from&&P.errors.from.message||!P.isValid&&n.R.form.helperText.invalid[t]})}}),(0,r.jsx)(p.Qr,{control:C,name:"to",render:e=>{let{field:o}=e;return(0,r.jsx)(m.Z,{...o,label:j("to"),error:!!P.errors.to,helperText:P.errors.to&&P.errors.to.message||!P.isValid&&"invalid"})}}),(0,r.jsx)(s.Z,{type:"submit",sx:{display:"none"},children:n.R.add[t]}),[B("add"),B("delete")]]}),(0,r.jsx)(w,{...e})]})},w=e=>(0,r.jsx)(c.Z,{className:"messages",children:Object.entries(e).map(e=>{let[o,t]=e;return(0,r.jsx)("div",{children:t},o)})});o.default=v}},function(e){e.O(0,[964,786,166,490,628,774,888,179],function(){return e(e.s=5805)}),_N_E=e.O()}]);