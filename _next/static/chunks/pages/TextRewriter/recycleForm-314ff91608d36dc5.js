(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[852],{6591:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/TextRewriter/recycleForm",function(){return o(7635)}])},7635:function(e,t,o){"use strict";o.r(t);var r=o(1527),l=o(1155),n=o(4752),a=o(4691),i=o(469),s=o(2202),d=o(1479),c=o(3426),m=o(9530),u=o(6726),p=o(6499),f=o(3964),x=o(6063),v=o(959),w=o(4091);let j=e=>{let[t,o]=(0,v.useState)({alreadyExist:"",operation:""}),[j]=(0,x.KO)(l.rz),[g,R]=(0,x.KO)(l.kG),O=e=>(0,l.QF)(j)(e),[y,b]=(0,x.KO)(l.J5),[Z,_]=(0,x.KO)(l.e2),[E,K]=(0,x.KO)(l.jl),[N,S]=(0,x.KO)(l.Cf),[k,z]=(0,x.KO)(l.D6),[C,M]=(0,x.KO)(l.ag),[T,A]=(0,v.useState)(y),{control:P,handleSubmit:Q,formState:V}=(0,w.cI)({defaultValues:e.defaultValues}),F=(0,w.qo)({control:P}),[q,D]=(0,x.KO)(l.R4),[J,X]=(0,v.useState)(!1),[H,I]=(0,v.useState)("add"),[L,G]=(0,v.useState)(l.P1);(0,v.useEffect)(()=>{var e,t,r,a,i;let s={from:null!==(e=F.from)&&void 0!==e?e:g.from,to:null!==(t=F.to)&&void 0!==t?t:g.to,ic:null!==(r=F.ic)&&void 0!==r?r:g.ic,mw:null!==(a=F.mw)&&void 0!==a?a:g.mw,sc:null!==(i=F.sc)&&void 0!==i?i:g.sc};K(s),X(!!s.from.match(/.*[a-zA-Z].*/));let d=(0,l.z3)(q)(s);"string"==typeof d?(o(e=>({...e,alreadyExist:n.R.confirm.alreadyExist[j]})),I("update"),_({...s,to:d})):(o(e=>({...e,alreadyExist:""})),I("add"),_(s))},[F,y]);let U=e=>{let{to:t,...r}=e,d=JSON.stringify(r),c=q.delete(d);q.set(d,t),c?(console.log("updated ",Z),console.log("to",'"'.concat(t,'"')),o(t=>({...t,operation:n.R.tooltip.operation.update(e.from,Z.to)(e.to)[j]})),console.log("atomEntryIdDedupedMap:",C),S(e=>(0,i.L2)(C.get(d))(o=>({from:e.from.map(e=>(0,l.DH)(e=>new Map((0,a.Cc)([...e.entries()])(e=>{let[t,r]=e;return t==o},e=>{let[t,r]=e;return[o,r]})))(e)),to:e.to.map(e=>(0,s.P)((0,l.Ko)([o])(e))(k,t))}),e))):(console.log("added:",e),o(t=>({...t,operation:n.R.tooltip.operation.add(e.from,e.to)[j]})),S(t=>(0,l.VU)(k,t)(e))),M(e=>(e.set(d,k),new Map([...e.entries()]))),z(e=>e+1);let m=Array.from(q),u=new Map(m);D(u);let p=m.map(e=>(0,l.bA)(e));b(p),A(p)},B=e=>{let{to:t,...r}=e,a=JSON.stringify(r),i=q.delete(a);i?(console.log("deleted:",l.e2),o(t=>({...t,operation:n.R.tooltip.operation.delete(e.from,e.to)[j]})),M(e=>(e.delete(a),new Map([...e.entries()]))),S(e=>{let t=(0,l.XZ)(a)(e,Z,C);return{from:t("from"),to:t("to")}})):(console.log("failed to delete"),o(e=>({...e,operation:n.R.tooltip.fail("delete")[j]})));let s=Array.from(q),d=new Map(s);D(d);let c=s.map(e=>(0,l.bA)(e));b(c),A(c)},W=function(e){return(0,r.jsx)(d.Z,{control:(0,r.jsx)(w.Qr,{name:e,control:P,render:t=>{let{field:o}=t;return(0,r.jsx)(c.Z,{...o,size:"small",checked:!!o.value,disabled:"mw"==e?void 0:!J})}}),label:(0,l.QF)("en")(e)})},Y=e=>{var t,o,r,n,a;let i={from:null!==(t=F.from)&&void 0!==t?t:g.from,to:null!==(o=F.to)&&void 0!==o?o:g.to,ic:null!==(r=F.ic)&&void 0!==r?r:g.ic,mw:null!==(n=F.mw)&&void 0!==n?n:g.mw,sc:null!==(a=F.sc)&&void 0!==a?a:g.sc};G(t=>({...l.P1,[e]:!0})),"add"==e?U(i):"delete"==e&&B(i)},$=function(e){return(0,r.jsx)(m.Z,{arrow:!0,open:!!L[e],onClose:()=>G(t=>({...t,[e]:!1})),disableHoverListener:!0,placement:"top",title:"add"==e?"update"==H?n.R.tooltip.operation.update(Z.from,Z.to)(E.to)[j]:n.R.tooltip.operation.add(Z.from,Z.to)[j]:n.R.tooltip.operation.delete(Z.from,Z.to)[j],children:(0,r.jsx)(u.Z,{variant:"contained",onClick:t=>Y(e),children:"add"==e?n.R[H][j]:n.R.delete[j]})})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p.Z,{component:"form",onSubmit:Q(U),children:[(0,r.jsx)(p.Z,{component:"div",children:[W("ic"),W("sc"),W("mw")]}),(0,r.jsx)(w.Qr,{control:P,name:"from",rules:{required:n.R.form.rules.required[j]},render:e=>{let{field:t}=e;return(0,r.jsx)(f.Z,{...t,variant:"standard",size:"small",label:O("from"),error:!!V.errors.from,helperText:V.errors.from&&V.errors.from.message||!V.isValid&&n.R.form.helperText.invalid[j]})}}),(0,r.jsx)(w.Qr,{control:P,name:"to",render:e=>{let{field:t}=e;return(0,r.jsx)(f.Z,{...t,variant:"standard",size:"small",label:O("to"),error:!!V.errors.to,helperText:V.errors.to&&V.errors.to.message||!V.isValid&&"invalid"})}}),(0,r.jsx)(u.Z,{type:"submit",sx:{display:"none"},children:n.R.add[j]}),[$("add"),$("delete")]]}),(0,r.jsx)(h,{...t})]})},h=e=>(0,r.jsx)(p.Z,{className:"messages",children:Object.entries(e).map(e=>{let[t,o]=e;return(0,r.jsx)("div",{children:o},t)})});t.default=j}},function(e){e.O(0,[964,786,166,490,628,774,888,179],function(){return e(e.s=6591)}),_N_E=e.O()}]);