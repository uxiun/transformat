(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[632],{5805:function(r,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/TextRewriter/entryForm",function(){return t(6155)}])},6155:function(r,e,t){"use strict";t.r(e);var n=t(1527),o=t(1933),i=t(4752),u=t(1021),a=t(4106),s=t(5706),l=t(6834),c=t(959),f=t(6887);let d=()=>{let[r,e]=(0,c.useState)({alreadyExist:""}),[t]=(0,l.KO)(o.rz),[d,p]=(0,l.KO)(o.kG),w=r=>(0,o.QF)(t)(r),[x,j]=(0,l.KO)(o.J5),[y,h]=(0,c.useState)(x),{control:g,handleSubmit:v,formState:E}=(0,f.cI)({defaultValues:o.EF}),O=(0,f.qo)({control:g}),[b,N]=(0,l.KO)(o.R4);(0,c.useEffect)(()=>{var r,n,u,a,s;let l={from:null!==(r=O.from)&&void 0!==r?r:d.from,to:null!==(n=O.to)&&void 0!==n?n:d.to,ic:null!==(u=O.ic)&&void 0!==u?u:d.ic,mw:null!==(a=O.mw)&&void 0!==a?a:d.mw,sc:null!==(s=O.sc)&&void 0!==s?s:d.sc},c=(0,o.z3)(b)(l);c?e(r=>({...r,alreadyExist:i.R.confirm.alreadyExist[t]})):e(r=>({...r,alreadyExist:""}))},[O]);let _=r=>{console.log("addEntry(), Entry=",r);let{to:e,...t}=r,n=JSON.stringify(t);b.set(n,e);let i=Array.from(b),u=new Map(i);N(u);let a=i.map(r=>(0,o.bA)(r));j(a),h(a)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.Z,{component:"form",onSubmit:v(_),children:[(0,n.jsx)(f.Qr,{control:g,name:"from",rules:{required:"input something"},render:r=>{let{field:e}=r;return(0,n.jsx)(a.Z,{...e,label:w("from"),error:!!E.errors.from,helperText:E.errors.from&&E.errors.from.message||!E.isValid&&"invalid"})}}),(0,n.jsx)(f.Qr,{control:g,name:"to",rules:{required:"input something"},render:r=>{let{field:e}=r;return(0,n.jsx)(a.Z,{...e,label:w("to"),error:!!E.errors.to,helperText:E.errors.to&&E.errors.to.message||!E.isValid&&"invalid"})}}),(0,n.jsx)(s.Z,{type:"submit",children:i.R.add[t]})]}),(0,n.jsx)(m,{...r})]})},m=r=>(0,n.jsx)(u.Z,{className:"messages",children:Object.entries(r).map(r=>{let[e,t]=r;return(0,n.jsx)("div",{children:t},e)})});e.default=d},1933:function(r,e,t){"use strict";t.d(e,{B9:function(){return x},EF:function(){return l},J5:function(){return s},QF:function(){return u},R4:function(){return f},bA:function(){return m},kG:function(){return c},mY:function(){return p},rz:function(){return a},xp:function(){return w},z3:function(){return d}});var n=t(4477),o=t(8833);let i={from:{en:"from",ja:"置換対象"},ic:{en:"ignore case",ja:"大文字小文字を無視する"},mw:{en:"match word",ja:"単語のみ"},sc:{en:"smart case",ja:"賢い大小文字"},to:{en:"to",ja:"置換結果"}},u=r=>e=>i[e][r],a=(0,n.cn)("ja"),s=(0,n.cn)([]),l={from:"",ic:!1,mw:!1,sc:!1,to:""},c=(0,n.cn)(l),f=(0,n.cn)(new Map),d=r=>e=>{let{to:t,...n}=e,o=JSON.stringify(n),i=r.get(o);return i},m=r=>{let[e,t]=r;return{...JSON.parse(e),to:t}},p=r=>e=>{let t=new Map([...r,...e.map(r=>{let{to:e,...t}=r,n=JSON.stringify(t);return[n,e]})]),n=Array.from(t),o=n.map(r=>m(r));return{entries:o,dedupedMap:t}},w=r=>{let e=new Map(r.map(r=>{let{to:e,...t}=r,n=JSON.stringify(t);return[n,e]})),t=Array.from(e),n=t.map(r=>m(r));return{entries:n,dedupedMap:e}},x=r=>{var e,t;let n=[...(0,o.au)(r)(r=>r.from.length).entries()].map(r=>{let[n,i]=r;return[n,i.sort((0,o.bW)(0,n)((r,n,o)=>(null!==(e=r.from.codePointAt(o))&&void 0!==e?e:0)-(null!==(t=n.from.codePointAt(o))&&void 0!==t?t:0)))]}).sort((r,e)=>{let[t,n]=r,[o,i]=e;return o-t}).flatMap(r=>{let[e,t]=r;return t});return JSON.stringify(n)}},4752:function(r,e,t){"use strict";t.d(e,{R:function(){return n}});let n={add:{en:"add",ja:"追加"},confirm:{alreadyExist:{en:"same entry already exists, which will be overloaded.",ja:"同じ条件の組がもうあるので、上書きされます。"}},error:{parse:{en:"couldn't parsed as JSON",ja:"解析不能"}}}},8833:function(r,e,t){"use strict";t.d(e,{au:function(){return o},bW:function(){return i},vQ:function(){return u}});let n=r=>e=>t=>o=>{let i=r.shift();return i?(()=>{let u=e(i);return t(u)?u:n(r)(e)(t)(o)})():o},o=r=>e=>{let t=new Map;return r.forEach(r=>{let n=e(r),o=t.get(n);o?t.set(n,[...o,r]):t.set(n,[r])}),t},i=(r,e)=>t=>(n,o)=>{if(!(r<e))return 0;{let u=t(n,o,r);return 0==u?i(r+1,e)(t)(n,o):u}},u=async r=>{await t.g.navigator.clipboard.writeText(r)}}},function(r){r.O(0,[106,194,107,774,888,179],function(){return r(r.s=5805)}),_N_E=r.O()}]);