(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[852],{6591:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/TextRewriter/recycleForm",function(){return o(7635)}])},7635:function(e,t,o){"use strict";o.r(t);var r=o(1527),l=o(1155),n=o(8138),a=o(4752),i=o(4691),s=o(469),d=o(2202),u=o(1479),c=o(3426),m=o(9530),f=o(6726),p=o(6499),x=o(3964),v=o(6063),w=o(959),j=o(4091);let h=e=>{let[t,o]=(0,w.useState)({alreadyExist:"",operation:""}),[h]=(0,v.KO)(l.rz),[O,R]=(0,v.KO)(l.kG),y=e=>(0,l.QF)(h)(e),[b,E]=(0,v.KO)(l.J5),[Z,_]=(0,v.KO)(l.e2),[K,N]=(0,v.KO)(l.jl),[S,T]=(0,v.KO)(l.Cf),[k,M]=(0,v.KO)(l.D6),[z,C]=(0,v.KO)(l.ag),[A]=(0,v.KO)(l.pM),[P,Q]=(0,w.useState)(b),{control:V,handleSubmit:F,formState:q}=(0,j.cI)({defaultValues:e.defaultValues}),D=(0,j.qo)({control:V}),[J,X]=(0,v.KO)(l.R4),[H,I]=(0,w.useState)(!1),[L,G]=(0,w.useState)("add"),[U,B]=(0,w.useState)(l.P1),W=(0,n.N)(A,D);(0,w.useEffect)(()=>{var e,t,r,n,i;let s={from:null!==(e=W.from)&&void 0!==e?e:O.from,to:null!==(t=W.to)&&void 0!==t?t:O.to,ic:null!==(r=W.ic)&&void 0!==r?r:O.ic,mw:null!==(n=W.mw)&&void 0!==n?n:O.mw,sc:null!==(i=W.sc)&&void 0!==i?i:O.sc};N(s),I(!!s.from.match(/.*[a-zA-Z].*/));let d=(0,l.z3)(J)(s);"string"==typeof d?(o(e=>({...e,alreadyExist:a.R.confirm.alreadyExist[h]})),G("update"),_({...s,to:d})):(o(e=>({...e,alreadyExist:""})),G("add"),_(s))},[W,b]);let Y=e=>{let{to:t,...r}=e,n=JSON.stringify(r),u=J.delete(n);J.set(n,t),u?(console.log("updated ",Z),console.log("to",'"'.concat(t,'"')),o(t=>({...t,operation:a.R.tooltip.operation.update(e.from,Z.to)(e.to)[h]})),console.log("atomEntryIdDedupedMap:",z),T(e=>(0,s.L2)(z.get(n))(o=>({from:e.from.map(e=>(0,l.DH)(e=>new Map((0,i.Cc)([...e.entries()])(e=>{let[t,r]=e;return t==o},e=>{let[t,r]=e;return[o,r]})))(e)),to:e.to.map(e=>(0,d.P)((0,l.Ko)([o])(e))(k,t))}),e))):(console.log("added:",e),o(t=>({...t,operation:a.R.tooltip.operation.add(e.from,e.to)[h]})),T(t=>(0,l.VU)(k,t)(e))),C(e=>(e.set(n,k),new Map([...e.entries()]))),M(e=>e+1);let c=Array.from(J),m=new Map(c);X(m);let f=c.map(e=>(0,l.bA)(e));E(f),Q(f)},$=e=>{let{to:t,...r}=e,n=JSON.stringify(r),i=J.delete(n);i?(console.log("deleted:",l.e2),o(t=>({...t,operation:a.R.tooltip.operation.delete(e.from,e.to)[h]})),C(e=>(e.delete(n),new Map([...e.entries()]))),T(e=>{let t=(0,l.XZ)(n)(e,Z,z);return{from:t("from"),to:t("to")}})):(console.log("failed to delete"),o(e=>({...e,operation:a.R.tooltip.fail("delete")[h]})));let s=Array.from(J),d=new Map(s);X(d);let u=s.map(e=>(0,l.bA)(e));E(u),Q(u)},ee=function(e){return(0,r.jsx)(u.Z,{control:(0,r.jsx)(j.Qr,{name:e,control:V,render:t=>{let{field:o}=t;return(0,r.jsx)(c.Z,{...o,size:"small",checked:!!o.value,disabled:"mw"==e?void 0:!H})}}),label:(0,l.QF)("en")(e)})},et=e=>{var t,o,r,n,a;let i={from:null!==(t=W.from)&&void 0!==t?t:O.from,to:null!==(o=W.to)&&void 0!==o?o:O.to,ic:null!==(r=W.ic)&&void 0!==r?r:O.ic,mw:null!==(n=W.mw)&&void 0!==n?n:O.mw,sc:null!==(a=W.sc)&&void 0!==a?a:O.sc};B(t=>({...l.P1,[e]:!0})),"add"==e?Y(i):"delete"==e&&$(i)},eo=function(e){return(0,r.jsx)(m.Z,{arrow:!0,open:!!U[e],onClose:()=>B(t=>({...t,[e]:!1})),disableHoverListener:!0,placement:"top",title:"add"==e?"update"==L?a.R.tooltip.operation.update(Z.from,Z.to)(K.to)[h]:a.R.tooltip.operation.add(Z.from,Z.to)[h]:a.R.tooltip.operation.delete(Z.from,Z.to)[h],children:(0,r.jsx)(f.Z,{variant:"contained",onClick:t=>et(e),children:"add"==e?a.R[L][h]:a.R.delete[h]})})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p.Z,{component:"form",onSubmit:F(Y),children:[(0,r.jsx)(p.Z,{component:"div",children:[ee("ic"),ee("sc"),ee("mw")]}),(0,r.jsx)(j.Qr,{control:V,name:"from",rules:{required:a.R.form.rules.required[h]},render:e=>{let{field:t}=e;return(0,r.jsx)(x.Z,{...t,variant:"standard",size:"small",label:y("from"),error:!!q.errors.from,helperText:q.errors.from&&q.errors.from.message||!q.isValid&&a.R.form.helperText.invalid[h]})}}),(0,r.jsx)(j.Qr,{control:V,name:"to",render:e=>{let{field:t}=e;return(0,r.jsx)(x.Z,{...t,variant:"standard",size:"small",label:y("to"),error:!!q.errors.to,helperText:q.errors.to&&q.errors.to.message||!q.isValid&&"invalid"})}}),(0,r.jsx)(f.Z,{type:"submit",sx:{display:"none"},children:a.R.add[h]}),[eo("add"),eo("delete")]]}),(0,r.jsx)(g,{...t})]})},g=e=>(0,r.jsx)(p.Z,{className:"messages",children:Object.entries(e).map(e=>{let[t,o]=e;return(0,r.jsx)("div",{children:o},t)})});t.default=h},8138:function(e,t,o){"use strict";o.d(t,{N:function(){return l}});var r=o(959);let l=(e,t)=>{let[o,l]=(0,r.useState)(t);return(0,r.useEffect)(()=>{let o=setTimeout(()=>l(t),e);return()=>clearTimeout(o)},[t,e]),o}}},function(e){e.O(0,[964,166,63,273,490,628,774,888,179],function(){return e(e.s=6591)}),_N_E=e.O()}]);