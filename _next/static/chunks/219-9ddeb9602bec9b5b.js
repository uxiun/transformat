"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{4813:function(e,t,r){var l=r(4039);t.Z=void 0;var o=l(r(7714)),s=r(1527),n=(0,o.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=n},3221:function(e,t,r){r.r(t),r.d(t,{default:function(){return K}});var l=r(1527),o=r(1155),s=r(5497),n=r(9544),a=r(5009),i=r(9569),d=r(3957),c=r(4813),u=r(4418),m=r(959),f=r(7635),h=r(2302),x=r(469),p=r(4752);let j=(e,t)=>r=>{let l=Math.abs(r).toString().split(".");l.length<2&&l.push("");let o=t+1,s=l.map(e=>{let t=e.slice(0,o);return o-=t.length,t});if(o>0)return r;{let t=(0,x.y2)(e=>0==e,l[0].length-s[0].length)(-s[1].length)+1,o=parseInt("".concat(s[0]).concat(s[1]))/10,n=Math[e](r<0?-o:o);return Math.pow(10,t)*n}},v=(e,t)=>r=>{let l=j(e,t)(r),o=Math.abs(l).toString().split("").reduce((e,r)=>{let{seisu:l,shosu:o,atshosu:s}=e;return s?{seisu:l,shosu:l.length+o.length<t?o+r:o,atshosu:s}:"."==r?{seisu:l,shosu:o,atshosu:!0}:{seisu:l+r,shosu:o,atshosu:s}},{seisu:"",shosu:"",atshosu:!1});return(l<0?"-":"")+o.seisu+(0,x.op)(o.shosu)(e=>e.length>0,e=>".".concat(e))};var Z=r(2413);let g={similarForm:{padding:[1,2]}},y=()=>(0,l.jsxs)("div",{className:"lists",children:[(0,l.jsx)(O,{limit:2}),(0,l.jsx)(b,{maxShowNumber:10})]}),O=e=>{let{limit:t}=e,[r]=(0,u.KO)(o.kG),[s,n]=(0,u.KO)(o.J5);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"entries",children:s.slice(-t).reverse().map(e=>(0,l.jsx)("div",{children:JSON.stringify(e)},JSON.stringify(e)))})})},b=e=>{let[t,r]=(0,u.KO)(o.J5),[d]=(0,u.KO)(o.jl),[c]=(0,u.KO)(o.Cf),[f]=(0,u.KO)(o.ag),[j]=(0,u.KO)(o.R4),[y]=(0,u.KO)(o.rz),[O,b]=(0,m.useState)(!1),w=(0,o.o4)(f,j),K=(0,m.useCallback)(e=>(0,h.cV)((0,x.ZZ)(c[e].map(t=>{let r=(0,h.xJ)(t)(d[e]);return r})))(d[e].length,w[e]),[c]),R=(0,m.useMemo)(()=>{let t=K("from");return[...t.entries()].sort((e,t)=>t[1]-e[1]).slice(0,e.maxShowNumber)},[K,e.maxShowNumber]),N=(0,m.useMemo)(()=>{let t=K("to");return[...t.entries()].sort((e,t)=>t[1]-e[1]).slice(0,e.maxShowNumber)},[K,e.maxShowNumber]),M={from:R,to:N},z={display:"flex",alignItems:"center"},k=e=>function(){return(0,l.jsxs)(s.Z,{children:[(0,l.jsxs)(n.Z,{variant:"h5",children:[(0,o.QF)(y)(e)," "]}),(0,l.jsx)(s.Z,{children:M[e].map(e=>{let[t,r]=e,n=(0,o.zN)(t,f);return void 0===n?(0,l.jsx)(s.Z,{children:"cannot get id"}):(0,l.jsxs)(s.Z,{...z,children:[O?"".concat(v("round",5)(r)):"",(0,x.L2)(j.get(null!=n?n:""))(e=>{let t={...JSON.parse(n),to:e};return(0,l.jsx)(S,{entry:t})},(0,l.jsx)(s.Z,{children:"stringified key not found"}))]})})})]})};return(0,l.jsxs)(s.Z,{children:[(0,l.jsxs)(s.Z,{sx:{display:"flex",...g.similarForm},children:[(0,l.jsx)(n.Z,{variant:"h4",children:p.R.headerTitle.list.similar[y]}),(0,l.jsxs)(s.Z,{sx:{display:"flex",paddingX:2},children:[(0,l.jsx)(a.Z,{control:(0,l.jsx)(i.Z,{checked:!!O,onChange:()=>b(e=>!e),value:"showPoint"}),label:p.R.showPoint[y]}),(0,l.jsx)(Z.default,{})]})]}),(0,l.jsx)(s.Z,{children:[k("from")(),k("to")()]})]})},w=e=>{let{entry:t}=e;return(0,l.jsxs)(s.Z,{sx:{display:"flex"},children:[(0,l.jsx)(s.Z,{children:t.from}),(0,l.jsx)(n.Z,{sx:{opacity:.5},children:"â†’"}),(0,l.jsx)(s.Z,{children:t.to}),(0,l.jsx)(s.Z,{display:"flex",children:["ic","sc","mw"].map(e=>(0,l.jsx)(s.Z,{sx:{marginLeft:1,opacity:t[e]?1:.5},children:e},e))})]})},S=e=>{let{entry:t}=e,[r,o]=(0,m.useState)(!1);return(0,l.jsxs)(s.Z,{display:"flex",alignItems:"center",children:[(0,l.jsx)(d.Z,{size:"small",onClick:()=>{o(e=>!e)},children:(0,l.jsx)(c.Z,{fontSize:"small"})}),r?(0,l.jsx)(f.default,{hideMe:()=>o(!1),defaultValues:t}):(0,l.jsx)(w,{entry:t})]})};var K=y},7635:function(e,t,r){r.r(t);var l=r(1527),o=r(1155),s=r(8138),n=r(4752),a=r(469),i=r(2302),d=r(5009),c=r(9569),u=r(3922),m=r(3009),f=r(5497),h=r(6069),x=r(4418),p=r(959),j=r(2462);let v=e=>{let[t,r]=(0,p.useState)({alreadyExist:"",operation:""}),[v]=(0,x.KO)(o.rz),[g,y]=(0,x.KO)(o.kG),O=e=>(0,o.QF)(v)(e),[b,w]=(0,x.KO)(o.J5),[S,K]=(0,x.KO)(o.e2),[R,N]=(0,x.KO)(o.jl),[M,z]=(0,x.KO)(o.Cf),[k,E]=(0,x.KO)(o.D6),[C,J]=(0,x.KO)(o.ag),[V]=(0,x.KO)(o.pM),[F,Q]=(0,p.useState)(b),{control:T,handleSubmit:I,formState:L}=(0,j.cI)({defaultValues:e.defaultValues}),A=(0,j.qo)({control:T}),[D,P]=(0,x.KO)(o.R4),[_,q]=(0,p.useState)(!1),[G,H]=(0,p.useState)("add"),[X,B]=(0,p.useState)(o.P1),U=(0,s.N)(V,A);(0,p.useEffect)(()=>{var e,t,l,s,a;let i={from:null!==(e=U.from)&&void 0!==e?e:g.from,to:null!==(t=U.to)&&void 0!==t?t:g.to,ic:null!==(l=U.ic)&&void 0!==l?l:g.ic,mw:null!==(s=U.mw)&&void 0!==s?s:g.mw,sc:null!==(a=U.sc)&&void 0!==a?a:g.sc};N(i),q(!!i.from.match(/.*[a-zA-Z].*/));let d=(0,o.z3)(D)(i);"string"==typeof d?(r(e=>({...e,alreadyExist:n.R.confirm.alreadyExist[v]})),H("update"),K({...i,to:d})):(r(e=>({...e,alreadyExist:""})),H("add"),K(i))},[U,b,D,v,g,N,K]);let W=e=>{let{to:t,...l}=e,s=JSON.stringify(l),d=D.delete(s);D.set(s,t),d?(console.log("updated ",S),console.log("to",'"'.concat(t,'"')),r(t=>({...t,operation:n.R.tooltip.operation.update(e.from,S.to)(e.to)[v]})),console.log("atomEntryIdDedupedMap:",C),z(e=>(0,a.L2)(C.get(s))(r=>({from:e.from.map(e=>(0,o.DH)(e=>(e.delete(r),e))(e)),to:e.to.map(e=>(0,i.P)((0,o.Ko)([r])(e))(k,t))}),e))):(console.log("added:",e),r(t=>({...t,operation:n.R.tooltip.operation.add(e.from,e.to)[v]}))),z(t=>(0,o.VU)(k,t)(e)),J(e=>(e.set(s,k),new Map([...e.entries()]))),E(e=>e+1);let c=Array.from(D),u=new Map(c);P(u);let m=c.map(e=>(0,o.bA)(e));w(m),Q(m)},Y=e=>{let{to:t,...l}=e,s=JSON.stringify(l),a=D.delete(s);a?(console.log("deleted:",o.e2),r(t=>({...t,operation:n.R.tooltip.operation.delete(e.from,e.to)[v]})),J(e=>(e.delete(s),new Map([...e.entries()]))),z(e=>{let t=(0,o.XZ)(s)(e,S,C);return{from:t("from"),to:t("to")}})):(console.log("failed to delete"),r(e=>({...e,operation:n.R.tooltip.fail("delete")[v]})));let i=Array.from(D),d=new Map(i);P(d);let c=i.map(e=>(0,o.bA)(e));w(c),Q(c)},$=function(e){return(0,l.jsx)(d.Z,{control:(0,l.jsx)(j.Qr,{name:e,control:T,render:t=>{let{field:r}=t;return(0,l.jsx)(c.Z,{...r,size:"small",checked:!!r.value,disabled:"mw"==e?void 0:!_})}}),label:(0,o.QF)(v)(e)})},ee=e=>{var t,r,l,s,n;let a={from:null!==(t=U.from)&&void 0!==t?t:g.from,to:null!==(r=U.to)&&void 0!==r?r:g.to,ic:null!==(l=U.ic)&&void 0!==l?l:g.ic,mw:null!==(s=U.mw)&&void 0!==s?s:g.mw,sc:null!==(n=U.sc)&&void 0!==n?n:g.sc};B(t=>({...o.P1,[e]:!0})),"add"==e?W(a):"delete"==e&&Y(a)},et=function(e){return(0,l.jsx)(u.Z,{arrow:!0,open:!!X[e],onClose:()=>B(t=>({...t,[e]:!1})),disableHoverListener:!0,placement:"top",title:"add"==e?"update"==G?n.R.tooltip.operation.update(S.from,S.to)(R.to)[v]:n.R.tooltip.operation.add(S.from,S.to)[v]:n.R.tooltip.operation.delete(S.from,S.to)[v],children:(0,l.jsx)(m.Z,{variant:"contained",onClick:t=>ee(e),children:"add"==e?n.R[G][v]:n.R.delete[v]})})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(f.Z,{component:"form",onSubmit:I(W),children:[(0,l.jsx)(f.Z,{component:"div",children:[$("ic"),$("sc"),$("mw")]}),(0,l.jsx)(j.Qr,{control:T,name:"from",rules:{required:n.R.form.rules.required[v]},render:e=>{let{field:t}=e;return(0,l.jsx)(h.Z,{...t,variant:"standard",size:"small",label:O("from"),error:!!L.errors.from,helperText:L.errors.from&&L.errors.from.message||!L.isValid&&n.R.form.helperText.invalid[v]})}}),(0,l.jsx)(j.Qr,{control:T,name:"to",render:e=>{let{field:t}=e;return(0,l.jsx)(h.Z,{...t,variant:"standard",size:"small",label:O("to"),error:!!L.errors.to,helperText:L.errors.to&&L.errors.to.message||!L.isValid&&"invalid"})}}),(0,l.jsx)(m.Z,{type:"submit",sx:{display:"none"},children:n.R.add[v]}),[et("add"),et("delete")]]}),(0,l.jsx)(Z,{...t})]})},Z=e=>(0,l.jsx)(f.Z,{className:"messages",children:Object.entries(e).map(e=>{let[t,r]=e;return(0,l.jsx)("div",{children:r},t)})});t.default=v},2413:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var l=r(1527),o=r(1155),s=r(4752);let n={delay:o.Z_};var a=r(5497),i=r(6069),d=r(4418),c=r(959),u=r(2462);let m=()=>{let[e,t]=(0,d.KO)(o.pM),[r]=(0,d.KO)(o.rz),{control:m,register:f}=(0,u.cI)({defaultValues:n}),h=(0,u.qo)({control:m}),[x,p]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{var e;t(null!==(e=h.delay)&&void 0!==e?e:n.delay)},[h,t]),(0,l.jsx)(a.Z,{children:(0,l.jsx)(u.Qr,{control:m,name:"delay",render:e=>{let{field:t,fieldState:o}=e;return(0,l.jsx)(i.Z,{...t,type:"number",size:"small",label:s.R.searchDelay.label[r],ref:f("delay").ref,onFocus:()=>p(e=>!e),onBlur:()=>p(e=>!e),helperText:x&&s.R.searchDelay.help[r]})}})})};var f=m},8138:function(e,t,r){r.d(t,{N:function(){return o}});var l=r(959);let o=(e,t)=>{let[r,o]=(0,l.useState)(t);return(0,l.useEffect)(()=>{let r=setTimeout(()=>o(t),e);return()=>clearTimeout(r)},[t,e]),r}}}]);