(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[264],{6323:function(e,t,r){"use strict";var o=r(4652);t.Z=void 0;var n=o(r(2922)),l=r(1527),i=(0,n.default)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=i},2922:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=r(3487)},3487:function(e,t,r){"use strict";r.r(t),r.d(t,{capitalize:function(){return n.Z},createChainedFunction:function(){return l},createSvgIcon:function(){return i.Z},debounce:function(){return a.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return c.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return p},unstable_ClassNameGenerator:function(){return b},unstable_useEnhancedEffect:function(){return m.Z},unstable_useId:function(){return h.Z},unsupportedProp:function(){return x},useControlled:function(){return g.Z},useEventCallback:function(){return Z.Z},useForkRef:function(){return v.Z},useIsFocusVisible:function(){return j.Z}});var o=r(8007),n=r(1415),l=r(7283).Z,i=r(8785),a=r(5291),s=function(e,t){return()=>null},c=r(8359),u=r(9851),d=r(9961);r(8957);var f=function(e,t){return()=>null},p=r(7570).Z,m=r(4955),h=r(6455),x=function(e,t,r,o,n){return null},g=r(4581),Z=r(1),v=r(8264),j=r(7025);let b={configure:e=>{o.Z.configure(e)}}},5264:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return V}});var o=r(1527),n=r(1155),l=r(6499),i=r(9928),a=r(1479),s=r(3426),c=r(45),u=r(8957),d=r(959),f=r(5341),p=r(9971),m=r(9148),h=r(3387),x=r(5885),g=r(2330),Z=r(1415),v=r(8752),j=r(6448);function b(e){return(0,j.Z)("MuiIconButton",e)}let y=(0,v.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),R=["edge","children","className","color","disabled","disableFocusRipple","size"],w=e=>{let{classes:t,disabled:r,color:o,edge:n,size:l}=e,i={root:["root",r&&"disabled","default"!==o&&`color${(0,Z.Z)(o)}`,n&&`edge${(0,Z.Z)(n)}`,`size${(0,Z.Z)(l)}`]};return(0,p.Z)(i,b,t)},O=(0,h.ZP)(g.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"default"!==r.color&&t[`color${(0,Z.Z)(r.color)}`],r.edge&&t[`edge${(0,Z.Z)(r.edge)}`],t[`size${(0,Z.Z)(r.size)}`]]}})(({theme:e,ownerState:t})=>(0,u.Z)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,m.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12}),({theme:e,ownerState:t})=>{var r;let o=null==(r=(e.vars||e).palette)?void 0:r[t.color];return(0,u.Z)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,u.Z)({color:null==o?void 0:o.main},!t.disableRipple&&{"&:hover":(0,u.Z)({},o&&{backgroundColor:e.vars?`rgba(${o.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,m.Fq)(o.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${y.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),S=d.forwardRef(function(e,t){let r=(0,x.Z)({props:e,name:"MuiIconButton"}),{edge:n=!1,children:l,className:i,color:a="default",disabled:s=!1,disableFocusRipple:d=!1,size:p="medium"}=r,m=(0,c.Z)(r,R),h=(0,u.Z)({},r,{edge:n,color:a,disabled:s,disableFocusRipple:d,size:p}),g=w(h);return(0,o.jsx)(O,(0,u.Z)({className:(0,f.Z)(g.root,i),centerRipple:!0,focusRipple:!d,disabled:s,ref:t,ownerState:h},m,{children:l}))});var z=r(6323),M=r(6063),C=r(7635),k=r(2202),K=r(469),N=r(4752);let E=(e,t)=>r=>{let o=Math.abs(r).toString().split(".");o.length<2&&o.push("");let n=t+1,l=o.map(e=>{let t=e.slice(0,n);return n-=t.length,t});if(n>0)return r;{let t=(0,K.y2)(e=>0==e,o[0].length-l[0].length)(-l[1].length)+1,n=parseInt("".concat(l[0]).concat(l[1]))/10,i=Math[e](r<0?-n:n);return Math.pow(10,t)*i}},I=(e,t)=>r=>{let o=E(e,t)(r),n=Math.abs(o).toString().split("").reduce((e,r)=>{let{seisu:o,shosu:n,atshosu:l}=e;return l?{seisu:o,shosu:o.length+n.length<t?n+r:n,atshosu:l}:"."==r?{seisu:o,shosu:n,atshosu:!0}:{seisu:o+r,shosu:n,atshosu:l}},{seisu:"",shosu:"",atshosu:!1});return(o<0?"-":"")+n.seisu+(0,K.op)(n.shosu)(e=>e.length>0,e=>".".concat(e))},_=()=>(0,o.jsxs)("div",{className:"lists",children:[(0,o.jsx)(P,{limit:2}),(0,o.jsx)(F,{maxShowNumber:10})]}),P=e=>{let{limit:t}=e,[r]=(0,M.KO)(n.kG),[l,i]=(0,M.KO)(n.J5);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"entries",children:l.slice(-t).reverse().map(e=>(0,o.jsx)("div",{children:JSON.stringify(e)},JSON.stringify(e)))})})},F=e=>{let[t,r]=(0,M.KO)(n.J5),[c]=(0,M.KO)(n.jl),[u]=(0,M.KO)(n.Cf),[f]=(0,M.KO)(n.ag),[p]=(0,M.KO)(n.R4),[m]=(0,M.KO)(n.rz),[h,x]=(0,d.useState)(!1),g=(0,n.o4)(f,p),Z=e=>(0,k.cV)((0,K.ZZ)(u[e].map(t=>{let r=(0,k.xJ)(t)(c[e]);return r})))(c[e].length,g[e]),v=(0,d.useMemo)(()=>{let t=Z("from");return[...t.entries()].sort((e,t)=>t[1]-e[1]).slice(0,e.maxShowNumber)},[t,c.from]),j=(0,d.useMemo)(()=>{let t=Z("to");return[...t.entries()].sort((e,t)=>t[1]-e[1]).slice(0,e.maxShowNumber)},[t,c.to,c.from]),b={from:v,to:j},y={display:"flex",alignItems:"center"},R=e=>function(){return(0,o.jsxs)(l.Z,{children:[(0,o.jsxs)(i.Z,{variant:"h5",children:[e," "]}),(0,o.jsx)(l.Z,{children:b[e].map(e=>{let[t,r]=e,i=(0,n.zN)(t,f);return void 0===i?(0,o.jsx)(l.Z,{children:"cannot get id"}):(0,o.jsxs)(l.Z,{...y,children:[h?"".concat(I("round",5)(r)):"",(0,K.L2)(p.get(null!=i?i:""))(e=>{let t={...JSON.parse(i),to:e};return(0,o.jsx)(J,{entry:t})},(0,o.jsx)(l.Z,{children:"stringified key not found"}))]})})})]})};return(0,o.jsxs)(l.Z,{children:[(0,o.jsxs)(l.Z,{...y,children:[(0,o.jsx)(i.Z,{variant:"h4",children:N.R.headerTitle.list.similar[m]}),(0,o.jsx)(a.Z,{control:(0,o.jsx)(s.Z,{checked:!!h,onChange:()=>x(e=>!e),value:"showPoint"}),label:N.R.showPoint[m]})]}),(0,o.jsx)(l.Z,{children:[R("from")(),R("to")()]})]})},$=e=>{let{entry:t}=e;return(0,o.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,o.jsx)(l.Z,{children:t.from}),(0,o.jsx)(i.Z,{sx:{opacity:.5},children:"â†’"}),(0,o.jsx)(l.Z,{children:t.to}),(0,o.jsx)(l.Z,{display:"flex",children:["ic","sc","mw"].map(e=>(0,o.jsx)(l.Z,{sx:{marginLeft:1,opacity:t[e]?1:.5},children:e},e))})]})},J=e=>{let{entry:t}=e,[r,n]=(0,d.useState)(!1);return(0,o.jsxs)(l.Z,{display:"flex",alignItems:"center",children:[(0,o.jsx)(S,{size:"small",onClick:()=>{n(e=>!e)},children:(0,o.jsx)(z.Z,{fontSize:"small"})}),r?(0,o.jsx)(C.default,{hideMe:()=>n(!1),defaultValues:t}):(0,o.jsx)($,{entry:t})]})};var V=_},7635:function(e,t,r){"use strict";r.r(t);var o=r(1527),n=r(1155),l=r(4752),i=r(4691),a=r(469),s=r(2202),c=r(1479),u=r(3426),d=r(9530),f=r(6726),p=r(6499),m=r(3964),h=r(6063),x=r(959),g=r(4091);let Z=e=>{let[t,r]=(0,x.useState)({alreadyExist:"",operation:""}),[Z]=(0,h.KO)(n.rz),[j,b]=(0,h.KO)(n.kG),y=e=>(0,n.QF)(Z)(e),[R,w]=(0,h.KO)(n.J5),[O,S]=(0,h.KO)(n.e2),[z,M]=(0,h.KO)(n.jl),[C,k]=(0,h.KO)(n.Cf),[K,N]=(0,h.KO)(n.D6),[E,I]=(0,h.KO)(n.ag),[_,P]=(0,x.useState)(R),{control:F,handleSubmit:$,formState:J}=(0,g.cI)({defaultValues:e.defaultValues}),V=(0,g.qo)({control:F}),[L,T]=(0,h.KO)(n.R4),[q,A]=(0,x.useState)(!1),[Q,B]=(0,x.useState)("add"),[D,G]=(0,x.useState)(n.P1);(0,x.useEffect)(()=>{var e,t,o,i,a;let s={from:null!==(e=V.from)&&void 0!==e?e:j.from,to:null!==(t=V.to)&&void 0!==t?t:j.to,ic:null!==(o=V.ic)&&void 0!==o?o:j.ic,mw:null!==(i=V.mw)&&void 0!==i?i:j.mw,sc:null!==(a=V.sc)&&void 0!==a?a:j.sc};M(s),A(!!s.from.match(/.*[a-zA-Z].*/));let c=(0,n.z3)(L)(s);"string"==typeof c?(r(e=>({...e,alreadyExist:l.R.confirm.alreadyExist[Z]})),B("update"),S({...s,to:c})):(r(e=>({...e,alreadyExist:""})),B("add"),S(s))},[V,R]);let H=e=>{let{to:t,...o}=e,c=JSON.stringify(o),u=L.delete(c);L.set(c,t),u?(console.log("updated ",O),console.log("to",'"'.concat(t,'"')),r(t=>({...t,operation:l.R.tooltip.operation.update(e.from,O.to)(e.to)[Z]})),console.log("atomEntryIdDedupedMap:",E),k(e=>(0,a.L2)(E.get(c))(r=>({from:e.from.map(e=>(0,n.DH)(e=>new Map((0,i.Cc)([...e.entries()])(e=>{let[t,o]=e;return t==r},e=>{let[t,o]=e;return[r,o]})))(e)),to:e.to.map(e=>(0,s.P)((0,n.Ko)([r])(e))(K,t))}),e))):(console.log("added:",e),r(t=>({...t,operation:l.R.tooltip.operation.add(e.from,e.to)[Z]})),k(t=>(0,n.VU)(K,t)(e))),I(e=>(e.set(c,K),new Map([...e.entries()]))),N(e=>e+1);let d=Array.from(L),f=new Map(d);T(f);let p=d.map(e=>(0,n.bA)(e));w(p),P(p)},W=e=>{let{to:t,...o}=e,i=JSON.stringify(o),a=L.delete(i);a?(console.log("deleted:",n.e2),r(t=>({...t,operation:l.R.tooltip.operation.delete(e.from,e.to)[Z]})),I(e=>(e.delete(i),new Map([...e.entries()]))),k(e=>{let t=(0,n.XZ)(i)(e,O,E);return{from:t("from"),to:t("to")}})):(console.log("failed to delete"),r(e=>({...e,operation:l.R.tooltip.fail("delete")[Z]})));let s=Array.from(L),c=new Map(s);T(c);let u=s.map(e=>(0,n.bA)(e));w(u),P(u)},U=function(e){return(0,o.jsx)(c.Z,{control:(0,o.jsx)(g.Qr,{name:e,control:F,render:t=>{let{field:r}=t;return(0,o.jsx)(u.Z,{...r,size:"small",checked:!!r.value,disabled:"mw"==e?void 0:!q})}}),label:(0,n.QF)("en")(e)})},X=e=>{var t,r,o,l,i;let a={from:null!==(t=V.from)&&void 0!==t?t:j.from,to:null!==(r=V.to)&&void 0!==r?r:j.to,ic:null!==(o=V.ic)&&void 0!==o?o:j.ic,mw:null!==(l=V.mw)&&void 0!==l?l:j.mw,sc:null!==(i=V.sc)&&void 0!==i?i:j.sc};G(t=>({...n.P1,[e]:!0})),"add"==e?H(a):"delete"==e&&W(a)},Y=function(e){return(0,o.jsx)(d.Z,{arrow:!0,open:!!D[e],onClose:()=>G(t=>({...t,[e]:!1})),disableHoverListener:!0,placement:"top",title:"add"==e?"update"==Q?l.R.tooltip.operation.update(O.from,O.to)(z.to)[Z]:l.R.tooltip.operation.add(O.from,O.to)[Z]:l.R.tooltip.operation.delete(O.from,O.to)[Z],children:(0,o.jsx)(f.Z,{variant:"contained",onClick:t=>X(e),children:"add"==e?l.R[Q][Z]:l.R.delete[Z]})})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(p.Z,{component:"form",onSubmit:$(H),children:[(0,o.jsx)(p.Z,{component:"div",children:[U("ic"),U("sc"),U("mw")]}),(0,o.jsx)(g.Qr,{control:F,name:"from",rules:{required:l.R.form.rules.required[Z]},render:e=>{let{field:t}=e;return(0,o.jsx)(m.Z,{...t,variant:"standard",size:"small",label:y("from"),error:!!J.errors.from,helperText:J.errors.from&&J.errors.from.message||!J.isValid&&l.R.form.helperText.invalid[Z]})}}),(0,o.jsx)(g.Qr,{control:F,name:"to",render:e=>{let{field:t}=e;return(0,o.jsx)(m.Z,{...t,variant:"standard",size:"small",label:y("to"),error:!!J.errors.to,helperText:J.errors.to&&J.errors.to.message||!J.isValid&&"invalid"})}}),(0,o.jsx)(f.Z,{type:"submit",sx:{display:"none"},children:l.R.add[Z]}),[Y("add"),Y("delete")]]}),(0,o.jsx)(v,{...t})]})},v=e=>(0,o.jsx)(p.Z,{className:"messages",children:Object.entries(e).map(e=>{let[t,r]=e;return(0,o.jsx)("div",{children:r},t)})});t.default=Z},4652:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);